[[JavaScript]]

Начнём с практики. В этом уроке развернём сервер с помощью экспресса.

### Устанавливаем экспресс

Экспресс — пакет ноды, поэтому его устанавливают из NPM:

Скопировать кодBASH

```
# Инициализируйте package.json, чтобы нода могла устанавливать зависимости
npm init -y # флаг -y ответит «Да» на все вопросы по настройке package.json

# Установите экспресс
npm install express 
```

### Настраиваем hot reload

Когда вы работали с проектами на «Реакте», то пользовались так называемым dev-режимом сборки: запускали команду `npm start` в Create React App. Вы могли заметить, что в этом режиме сайт автоматически обновлялся при сохранении любого файла. Такое поведение называют "hot reload" (от англ. «горячая перезагрузка»). В Create React App это делал Webpack, встроенный в сборку Create React App. В проектах на Express мы не используем Webpack — hot reload будет выполнять специальный пакет `nodemon`.

Hot reload нужен только для разработки, потому установите `nodemon` как dev-зависимость:

Скопировать кодBASH

```
# флаг -D установит nodemon как dev-зависимость
npm install nodemon -D 
```

Осталось, чтобы nodemon и программа запускались вместе. Откройте package.json и отредактируйте раздел `"scripts"`:

Скопировать кодJSON

```
{
    ...
    "scripts": {
        "start": "nodemon index.js"
    },
    ...
}
 
```

### Устанавливаем точку входа

Создадим файл index.js и опишем в нём приложение. Для этого подключите express, а затем создайте приложение методом `express`:

Скопировать кодJAVASCRIPT

```
const express = require('express');
const app = express(); 
```

Готово! Вы только что создали express-приложение.

### Проверяем, всё ли работает

Настроим порт, который должен слушать приложение. Возьмём его из переменной окружения:

Скопировать кодJAVASCRIPT

```
const express = require('express');
// Слушаем 3000 порт
const { PORT = 3000 } = process.env;

const app = express();

app.listen(PORT, () => {
    // Если всё работает, консоль покажет, какой порт приложение слушает
    console.log(`App listening on port ${PORT}`)
}) 
```

Запустим приложение:

Скопировать кодBASH

```
node index.js
# В терминале окажется сообщение "App listening on Port 3000" 
```

Перейдём в браузере по адресу `http://localhost:3000`. Мы видим сообщение "Cannot GET /_"_. Это означает, что экспресс запущен и работает, просто пока ему нечего нам отдать.

В следующем уроке исправим это — разберёмся, как настраивать роутинг.