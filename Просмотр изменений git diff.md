[[GITHUB]]

В предыдущем уроке мы рассказывали о хеше. Хеш — уникальная строка символов, полученная из данных о коммите:

Скопировать код

```
32d7ffadb1e3049d40c6fae4843bafe38d47346a 
```

По хешу коммита можно определить, какие изменения в этом коммите были сделаны.

## Просмотр изменений `git diff`

Команда «Гита» `git diff` показывает, какие изменения в коммите: что было сделано и в каких файлах. У этой команды есть три основные опции. Рассмотрим их на примере.

Откройте файл `index.html`. Добавьте в него заголовок `h1` с текстом `Меня будут сравнивать?`. Так вы измените файл `index.html`, и гит маркирует его как modified.

Чтобы посмотреть изменения, введите команду `git diff`:

Скопировать кодBASH

```
<title>Document</title>
</head>
<body>
-    
+    <h1>Меня будут сравнивать?</h1>
</body>
</html>

(END) 
```

Выход из просмотра — клавиша `Q` в английской раскладке.

Значки слева от строк показывают предыдущее и актуальное состояния файлов:

`-` — как было: была пустая строка между тегов `<body></body>`;

`+` — как стало: появился заголовок `h1` с текстом «Меня будут сравнивать?».

Добавьте файлы в staged командой `git add -A`, но коммит пока не делайте. Введите команду `git diff`:

Скопировать кодBASH

```
(END) 
```

Пусто. Команда `git diff` ничего не вывела, потому что она показывает только изменения в «рабочей зоне» — когда файлы ещё не добавлены в stage и не опубликованы.

Чтобы посмотреть изменения, добавленные в stage, команду `git diff` нужно ввести с флагом `--staged`:

Скопировать кодBASH

```
# ввели команду git diff --staged:
<title>Document</title>
 </head>
 <body>
-    
+    <h1>Меня будут сравнивать?</h1>
 </body>
 </html>

(END) 
```

Супер! Теперь сделайте коммит.

## Закоммиченные изменения. Сопоставление коммитов

Для просмотра закоммиченных изменений `git diff` не сработает. А ключа `--commited` нет и быть не может. Возьмём `index.html` из предыдущего примера и удалим из него только что добавленный заголовок. А затем сделаем коммит.

Как гиту понять, какие закоммиченные изменения мы хотим посмотреть? По сравнению с предыдущим коммитом изменилась одна строчка: был заголовок, а стала пустая строка. Но по сравнению с предпредыдущим коммитом ничего не изменилось: как была пустая строка, так и осталась.

Поэтому для просмотра закоммиченных изменений нужно определить, какие коммиты мы хотим сопоставлять.

Сравним два последних коммита. Нам понадобится хеш коммита, а точнее — его первые семь символов. Чтобы не отсчитывать первые семь символов хеша, можно вызвать команду `git log` с ключом `--oneline`. Так в терминале окажется короткий лог. В нём есть краткая информация обо всех коммитах: первые 7 символов хеша и комментарий каждого коммита.

Скопировать кодBASH

```
git log --oneline

11bada1 (HEAD -> main) Добавил заголовок # будем сравнивать этот коммит
a9928ab Добавил простую разметку # вот с этим
a602a8d Добавил кнопку и стили для неё 
```

Чтобы сопоставить изменения двух коммитов, их хеши указывают после команды `git diff`:

Скопировать кодBASH

```
git diff a9928ab 11bada1

<title>Document</title>
 </head>
 <body>
-    
+    <h1>Меня будут сравнивать?</h1>
 </body>
 </html>

(END) 
```

На этом про `git diff` всё. Вы научились отслеживать изменения перед коммитом и сопоставлять два коммита друг с другом. Это важный инструмент для поиска ошибок.

Но найти ошибку — полдела. С ней ещё нужно что-то сделать. Первый вариант — исправить баг и сделать новый коммит. Но есть и другой вариант. О нём расскажем в следующем уроке.