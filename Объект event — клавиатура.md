[[Обработка событий]]

В предыдущем месяце вы узнали об объекте `event`. Он передаётся как параметр обработчику события:

Скопировать кодJAVASCRIPT

```
const button = document.querySelector('button');

button.addEventListener('click', function (evt) {
  // объект события доступен как параметр

    console.log(evt); // его можно использовать в теле обработчика
}); 
```

У разных событий — разное содержимое объекта `event`, потому что у каждого из них своя специфика.

В этом уроке рассмотрим особые свойства `event` для событий клавиатуры.

## Определение клавиш

То, какие клавиши пользователь нажимает на клавиатуре, — имеет значение. Так при вводе номера карты он должен писать только цифры. А если случайно введёт букву, пусть увидит сообщение об ошибке:

![image](https://pictures.s3.yandex.net/resources/keypress_card_1588440527.gif)

_Когда-нибудь в номерах карт будут и буквы, но не сегодня_

Для этого у `event` есть свойства `key` и `keyCode`. Первое хранит название нажатой клавиши, второе — её уникальный код.

Сделаем валидацию:

Скопировать кодHTML

```
<!-- index.html -->

<input id="input">
<div id="error" style="display: none"></div> 
```

Скопировать кодJAVASCRIPT

```
/* script.js */

const input = document.querySelector('#input');
const error = document.querySelector('#error'); // Блок с ошибкой изначально скрыт

input.addEventListener('keydown', function (evt) {
  // Проверяем, была ли введена цифра
    if (Number.isNaN(Number(evt.key))) {
    // Если пользователь ввёл не цифру, показываем блок с ошибкой
    error.style.display = 'block';
    };
}); 
```

В первом задании к этому уроку вам нужно будет вывести в консоль названия клавиш. Поэтому, если у вас есть вопросы по названиям, просто дождитесь практики.

Кроме названий у всех клавиш есть порядковые имена. Они хранятся в свойстве `keyCode`. Так у цифры 0 — номер 48, у цифры 9 — номер 57. Остальные находятся в этом диапазоне.

Исходя из этого валидацию можно переписать так:

Скопировать кодJAVASCRIPT

```
const input = document.querySelector('#input');
const error = document.querySelector('#error'); // Блок с ошибкой изначально скрыт

input.addEventListener('keydown', function (evt) {
  // Проверяем, была ли введена цифра
    if (!(evt.keyCode <= 57 && evt.keyCode >= 48)) {
    // Если пользователь ввёл не цифру, показываем блок с ошибкой
    error.style.display = 'block';
    };
}); 
```

Разработчики используют оба варианта. Но по новым стандартам `keyCode` устарел, современные браузеры могут перестать его поддерживать. Лучше всегда используйте `evt.key`.