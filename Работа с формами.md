[[React]]

В «Реакте» принято использовать «управляемые компоненты». Это элементы управления в формах, значения которых синхронизируются со стейтом компонента, где они находятся. Это удобно, потому что позволяет напрямую управлять содержимым форм из JavaScript.

Не запутайтесь в терминологии: управляемые компоненты не являются «Реакт-компонентами» сами по себе. Это простые элементы формы, значение которых связано с одной из переменных состояния «Реакт-компонента», в составе которого они находятся.

Вот пример такого управляемого компонента:

Скопировать кодJSX

```
function Input() {
    // Стейт, в котором содержится значение инпута
  const [value, setValue] = React.useState('');

    // Обработчик изменения инпута обновляет стейт
  function handleChange(e) {
    setValue(e.target.value);
  }

  return (
        // Значение элемента «привязывается» к значению стейта
    <input type="text" value={value} onChange={handleChange} />
  );
}

ReactDOM.render((
  <Input />
), document.querySelector('#root')); 
```

Раньше мы уже приводили подобные примеры. Это удобный подход, потому что с ним можно легко получить текущее значение элемента управления (например, чтобы отправить на бэкенд) и так же легко изменить его.

Теперь добавим две кнопки: одна из них выводит текущее значение инпута в `alert`, а вторая очищает его. В обоих случаях мы изменяем стейт без необходимости работать с инпутом напрямую.

Скопировать кодJSX

```
function Input() {
  const [value, setValue] = React.useState('');

  function handleChange(e) {
    setValue(e.target.value);
  }

  function handleShow() {
    alert(value);
  }

  function handleClear() {
    setValue('');
  }

  return (
    <>
      <input type="text" value={value} onChange={handleChange} />
      <button onClick={handleShow}>Показать</button>
      <button onClick={handleClear}>Очистить</button>
    </>
  );
} 
```

Это короткий урок, а вот тема объёмная. Чтобы лучше разбираться в ней, изучите подробное описание работы с веб-формами в официальном руководстве React. Из неё вы узнаете про элементы `textarea` и `select` и «неуправляемые компоненты».

[https://ru.reactjs.org/docs/forms.html](https://ru.reactjs.org/docs/forms.html)

Выберите неправильный вариант:

В управляемых компонентах значение привязано к переменной состояния.

Внутри «Реакт-компонента» может содержаться более одного управляемого компонента.

Неправильный ответ

В управляемых компонентах каждое изменение вызывает рендер «Реакт-компонента».

Изменения в элементе должны вызывать изменения в стейт-переменной, а влечёт за собой рендер.

Тоже правильный ответ

Для управляемых компонентов обязательно должен присутствовать тег `form`

Верно! Управляемые компоненты могут состоять из отдельных элементов, не привязанных к тегу `form`.

Какой элемент управления не может быть управляемым компонентом?

Неправильный ответ

`<input type="text">`

Это наиболее распространённый управляемый компонент.

Тоже правильный ответ

`<input type="file">`

Верно! Политика безопасности браузеров запрещает «выбирать» файл в файловой системе средствами JavaScript. Иначе говоря, из JavaScript значение этого элемента доступно только для чтения, а значит его атрибут `value` не может контролироваться стейт-переменной.

`<textarea>`

`<select>`

Какой атрибут нельзя задавать в JSX для неуправляемых компонентов?

`defaultValue`

`onChange`

Правильный ответ

`value`

Верно! Если этот атрибут будет указан, «Реакт» будет использовать его значение при каждом следующем рендере. При этом введённое пользователем значение будет сбрасываться.

`type`