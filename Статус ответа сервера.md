[[Продвинутый JavaScript]]

Ответ от сервера всегда содержит статус. Правильно выставленный статус делает API более понятным. В этом уроке разберём основные статусы ответов сервера.

Статусы делят на 5 категорий. Запросы каждой из них начинаются с разных цифр:

-   **1xx: Informational.** Информационный ответ. Они приходят только техническим системам, вам их отправлять не придётся.
-   **2xx: Success.** Запрос прошёл успешно.
-   **3xx Redirection.** Запрос не завершён, и клиенту нужно предпринять какие-то действия, чтобы запрос прошёл успешно.
-   **4xx: Client Error.** Ошибка на стороне клиента: запрос сформирован неверно или у клиента нет нужных прав доступа.
-   **5xx: Server Error.** Ошибка на стороне сервера: что-то сломалось или сервер перегружен.

### Самые частые статусы

**200 OK.** Запрос прошёл успешно. Ответ с таким статусом должен содержать тело. Чаще всего этот статус используют при ответе на GET-запрос ресурса.

**201 Created.** Ресурс был создан на сервере. Подходящий ответ, например, при создании нового поста в блоге.

**202 Accepted.** Сервер начал работу по удовлетворению запроса, но ещё не закончил. Этот статус применяют для ответа на запросы, обработка которых занимает много времени, например, при обработке большого объёма данных.

**301 Moved Permanently.** API переделали, а ресурс переместили в другое место. Новый URL указывают в заголовке Location ответа сервера.

**302 Found.** Запрос должен быть перенаправлен на другой URL. В заголовке Location сервер должен отправить новый URL_._ При получении запроса браузер автоматически отправит его на новый URL.

**400 Bad Request.** Ошибка на стороне клиента. Например, запрос был неправильно сформирован. Это общий статус: его отправляют в случае, когда ни один другой 4xx статус не подходит.

**401 Unauthorized.** Запрос требует авторизации, но соответствующие авторизационные заголовки отсутствуют или сформированы неправильно.

**403 Forbidden.** Запрос сформирован правильно, но у клиента недостаточно прав, чтобы запрос прошёл успешно. Например, клиент пытается удалить чужой пост.

**404 Not Found.** Ресурс не найден. Например, пользователя с запрошенным id не существует.

**405 Method Not Allowed.** Ресурс запроса не поддерживает HTTP-метод, которым сделали запрос.

**500 Internal Server Error.** Общий статус для ошибок на стороне сервера. Это не ошибка клиента.

**501 Not Implemented**. Ресурс есть на сервере, но способ обращения к нему пока не реализован.

С этими статусами вам предстоит работать чаще всего. [О других статусах можно почитать дополнительно](https://restfulapi.net/http-status-codes/).

Какой статус должен отправить сервер, если сломался?

404

Правильный ответ

500

Верно!

301

201

Какой статус должен приходить при успешном создании пользователя?

Неправильный ответ

200

Использование этого статуса может и сойти с рук, но это не совсем корректно — статус общий, а действие конкретное.

Тоже правильный ответ

201

Верно, этот статус сообщает нам: «создано».

302

404

Какой статус сообщает пользователю, что сервер не может приготовить кофе, потому что он чайник? Подсмотрите значение некоторых статусов в поисковике.

404

Правильный ответ

418

418 — «я чайник!» Пожалуй, подходит.

425

451