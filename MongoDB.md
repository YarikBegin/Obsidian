[[JavaScript]]

В прошлом уроке мы говорили, что выбор подхода к организации данных зависит от задачи. Мы хорошенько подумали и выбрали NoSQL.

### Почему NoSQL?

Раньше аббревиатура NoSQL означала Not SQL (англ. «не SQL»). Позже подход вбирал некоторые свойства реляционного подхода, и теперь NoSQL расшифровывается как Not Only SQL (англ. «не только SQL»). Современные NoSQL базы данных комбинируют все плюсы нереляционных и некоторые сильные стороны реляционных баз данных.

Для проекта Mesto важны особенности нереляционного подхода. Если Mesto станет конкурировать по популярности с соцсетью, нам будет проще масштабировать свой продукт и выдерживать конкуренцию.

Кроме того, NoSQL базы хранят данные в структурах, близких JSON. Их просто обрабатывать из JavaScript, а значит, нужно меньше заморачиваться с преобразованием данных.

### Почему MongoDB?

Когда подход выбран, нужно определиться с базой данных. Вариантов много: RavenDB Cassandra, MongoDB, Redis, BigTable и другие. Мы остановили свой выбор на MongoDB. Это самая распространённая NoSQL база данных среди прочих, да ещё и самая популярная среди БД, используемых с Node.js. Если в вакансии нужна Node.js, скорее всего нужна и MongoDB.

## Установка Mongo

Установите Mongo по инструкции для вашей ОС:

### Windows

**Скачайте установщик**

![image](https://pictures.s3.yandex.net/resources/Untitled_1612436542.png)

1. Перейдите по [ссылке](https://mongodb.prakticum-team.ru/try/download/community?jmp=docs)
2. В выпадающем списке Version выберите версию с текстом 4.4.14. Если указанной версии нет в списке, выберите любую с соответствующую мажорной версии 4.4.x, например 4.4.21.
3. в выпадающем списке OS выберите Windows x64 X64;
4. в выпадающем списке Package выберите MSI;
5. нажмите Download.

**Запустите установщик**

|||
|---|---|
|Запустите установщик|![image](https://pictures.s3.yandex.net/resources/Untitled_1_1612437299.png)|
|Нажмите Next|![image](https://pictures.s3.yandex.net/resources/Untitled_2_1612437324.png)|
|Поставьте галочку, что вы согласны с лицензионным соглашением и нажмите Next|![image](https://pictures.s3.yandex.net/resources/Untitled_3_1612437350.png)|
|Выберите Complete|![image](https://pictures.s3.yandex.net/resources/Untitled_4_1612437372.png)|
|Нажмите Next|![image](https://pictures.s3.yandex.net/resources/Untitled_5_1612437398.png)|
|Оставьте галочку около Install MongoDB Compass и нажмите Next|![image](https://pictures.s3.yandex.net/resources/Untitled_6_1612437420.png)|
|Нажмите Install|![image](https://pictures.s3.yandex.net/resources/Untitled_7_1612437444.png)|
|Дождитесь окончания установки|![image](https://pictures.s3.yandex.net/resources/Untitled_8_1612437470.png)|
|И нажмите Finish|![image](https://pictures.s3.yandex.net/resources/Untitled_9_1612437491.png)|

**Создайте директорию для базы данных**

Откройте Git Bash и перейдите в корень диска C:\

Скопировать кодBASH

```
cd /C 
```

Создайте директорию для базы данных

Скопировать кодBASH

```
mkdir -p data/db 
```

На этом установка завершена.

**Добавьте путь к папке bin в переменную окружения**

1. **Найдите путь к папке bin — в ней хранятся исполняемые файлы MongoDB.** Обычно он выглядит как-то так:

Скопировать кодJAVASCRIPT

```
C:\Program Files\MongoDB\Server\4.2\bin 
```

2. **Откройте настройки переменных окружения.** Нажмите клавишу win и начните вводить «перемен» ("env" для интерфейса на английском). В результатах поиска выберите «Изменение переменных среды текущего пользователя» или «Edit the System Environment Variables».
3. В верхнем окне выберите переменную Path и нажмите «Изменить...».
4. В открывшемся окне нажмите «Создать», скопируйте путь к папке bin, сохраните результат и нажмите «Ок» во всех открытых окнах. Переменная окружения добавлена.

Или воспользуйтесь [официальной инструкцией](https://mongodb.prakticum-team.ru/docs/manual/tutorial/install-mongodb-on-windows/#install-mdb-edition)

### macOS

Mongo на macOS устанавливается из Homebrew — популярного пакетного менеджера macOS. Его нужно установить перед установкой Mongo. Для этого запустите терминал и запускайте там все команды из инструкции.

Если вы уже устанавливали Homebrew, сразу переходите к пункту 4.

#### Пошаговая инструкция

1. Установите утилиты разработчика от Apple. Для этого в терминале запустите:

Скопировать кодBASH

```
xcode-select --install 
```

2. Чтобы установить утилиты разработчика, терминал скачает большой файл. Поэтому установка займёт какое-то время — можете налить себе чаю. Хорошая новость в том, что это придётся сделать один раз.
    
    Во время установки у вас попросят подтвердить лицензию на установку. После того как команда выполнится, возможно, понадобится ещё раз подтвердить ещё одну лицензию на использование компонентов среды разработки XCode. Для этого запустите команду:
    
    Скопировать кодBASH
    
    ```
     sudo xcodebuild -license
      
    ```
    
3. Теперь ваш компьютер готов к установке менеджера пакетов brew. Скопируйте эту команду в терминал и запустите:
    
    Скопировать кодBASH
    
    ```
     /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
      
    ```
    
4. Пришло время установить Mongo. По очереди запустите эти команды:
    
    Скопировать кодBASH
    
    ```
     brew tap mongodb/brew
     brew install mongodb-community@4.4
      
    ```
    

Или воспользуйтесь [официальной инструкцией](https://mongodb.prakticum-team.ru/docs/manual/tutorial/install-mongodb-on-os-x/).

### Linux

Процесс установки описан в [официальной инструкции](https://mongodb.prakticum-team.ru/docs/manual/administration/install-on-linux/).