[[Продвинутый JavaScript]]

При голосовании на выборах мы предъявляем паспорт. Эта процедура не даёт голосовать одним людям за других, а также голосовать одному избирателю несколько раз.

То же самое происходит в интернете. Мы выкладываем фотографии, комментируем их, ставим лайки. Сервер может отличить одного пользователя от другого, потому что за каждым закреплён свой аккаунт.

Разные пользователи обладают разными правами: среди них могут быть модераторы, администраторы, работники службы поддержки. Сотруднику интернет-магазина нужно дать возможность отслеживать заказ по номеру: так он сможет по телефону проконсультировать покупателя. Пользователям, которые не имеют к этому заказу отношения, такая возможность ни к чему.

В этом уроке разберёмся с тремя длинными словами, которые многие путают: идентификация, аутентификация и авторизация.

## Идентификация

Идентифицировать — значит присваивать кому-то или чему-то имя, номер или другой символ, который позволит отделить объект от других.

Стас выпивает в баре с друзьями и решает познакомиться с девушкой за соседним столиком. Он подходит и спрашивает, как её зовут. Девушка отвечает: «Стася». В этот момент произошла идентификация. Сначала это была абстрактная девушка, а теперь у неё есть идентификатор — «Стася».

## Аутентификация

Аутентифицировать — значит доказать, что идентифицированный является тем, кем назвался. Идентификация — это часть процесса аутентификации. Стася могла назвать не своё имя и быть на самом деле Мариной. Но если бы кроме идентификации Стася прошла аутентификацию, это было бы невозможно.

Стас проводил Стасю и пошёл домой. Поскольку час поздний, его остановили полицейские и потребовали предъявить паспорт. Когда Стас показывает паспорт полицейскому, тот его аутентифицирует. В этом случае доказательством того, что Стас — это Стас, выступает его паспорт.

В интернете процесс аутентификации часто сводится к вводу имени пользователя и пароля. Но бывают и другие способы: ввод кода из смс, ответ на секретный вопрос, снятие отпечатка пальца или снимка лица.

## Авторизация

Авторизация происходит после аутентификации. Это процесс, при котором система принимает решение, какие права вам можно выдать.

Стас зашёл в магазин. На кассе перед ним стоит молодой человек, покупающий сигареты. Кассир спрашивает у него паспорт. Это авторизация: кассир принимает решение, можно продавать этому человеку сигареты или нет.

После авторизации в соцсети пользователи получают права на редактирование собственных публикаций, отправку сообщений от своего имени.

## Итого

Ещё пример. Стас просыпается с утра от звонка в дверь. Он подходит и спрашивает: «Кто там?». «Это Колян, твой сосед,» — отвечают Стасу. Это была идентификация. Затем Стас смотрит в глазок и определяет, действительно ли это Колян. Это аутентификация. И, наконец Стас решает, пустить Коляна или сказать, чтобы тот приходил в другой раз — это авторизация.

Эти три понятия важно отличать одно от другого: так вы избежите путаницы при изучении этой темы. Дальше мы перейдём к практике: реализации аутентификации и авторизации на сервере.

Сотрудник ДПС останавливает машину и просит водителя показать права.

Неправильный ответ

Аутентификация

Увы, неверно. Проверка документов не оставляет шанса выдать себя за другого. Кроме того, она даёт понять сотруднику полиции, что у вас есть право водить машину.

Идентификация

Тоже правильный ответ

Авторизация

Верно! Проверка документов не только не оставляет шанса выдать себя за кого-то другого, но и позволяет определить, есть ли у вас разрешение управлять автомобилем.

Пользователь оформляет заказ в интернет-магазине и оставляет имя, телефон и электронную почту.

Аутентификация

Правильный ответ

Идентификация

Правильно. Пользователь идентифицирует себя, но никак не подтверждает, что является именно тем человеком, что указан в заказе. Так можно оставить данные коллеги или родственника, чтобы тот забрал заказ.

Авторизация

Пользователь получает заранее оплаченный заказ в пункте самовывоза:

Аутентификация

Идентификация

Правильный ответ

Авторизация

Верно! При получении заказа необходимо предъявить паспорт — так интернет-магазин поймёт, что заказ оплачивали именно вы.

Человек показывает паспорт, чтобы получить посылку на почте.

Аутентификация

Идентификация

Правильный ответ

Авторизация

Правильно! Только один человек может забрать посылку с почты: её получатель.