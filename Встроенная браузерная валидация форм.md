[[Валидация]]

У современных браузеров есть встроенные инструменты для проверки форм. Их достоинства — простота использования и производительность. Но JS справляется с этим лучше. В следующих уроках вы узнаете, почему.

Но бывают ситуации, когда можно использовать только функции форм HTML5. Так произойдёт, если JS отключён для повышенной безопасности и сохранности данных.

В этом уроке вы узнаете о специальных атрибутах форм и полей. Они помогут пользователю их заполнить, даже если JS отключён.

## Атрибут `type`

Вы уже знакомы с атрибутом `type` полей ввода. Некоторые значения `type` содержат встроенную инструкцию: как браузеру проверять данные, которые ввёл пользователь.

Популярные примеры — значения `url` и `email`:

-   `url` — значение поля ввода начинается с `http://` или `https://` и содержит минимум один символ после;
-   `email` — значение поля содержит минимум один символ до `@` и один после.

Если пользователь введёт в поле `url` или `email` значение, которое не выполняет эти условия, форма не отправится. Вместо этого пользователь увидит сообщение об ошибке:

Скопировать кодHTML

```
<form>
  <input type="url" placeholder="Адрес">
  <input type="email" placeholder="Email">
  <button>Отправить</button>
</form> 
```

Так выглядит ошибка при проверке данных в Google Chrome.

Всего один атрибут и сообщение об ошибке помогут пользователю всё сделать правильно.

## Атрибуты `minlength` и `maxlength`

HTML-атрибуты `minlength` и `maxlength` задают минимальное и максимальное количество символов в поле ввода.

Если полю «Имя» установить `2` как минимальное количество символов, пользователь не сможет ввести однобуквенные имена:

Скопировать кодHTML

```
<form class="form">
  <input class="form__input" type="url" placeholder="Адрес">
  <input class="form__input" type="email" placeholder="Email">
  <input class="form__input" type="text" placeholder="Имя" minlength="2">
  <button>Отправить</button>
</form> 
```

Аналогично можно указать `maxlength` для поля с именем. Тогда пользователь не сможет ввести слишком длинное имя.

Скопировать кодHTML

```
<form class="form">
  <input class="form__input" type="url" placeholder="Адрес">
  <input class="form__input" type="email" placeholder="Email">
  <input class="form__input" type="text" placeholder="Имя" minlength="2" maxlength="30">
  <button>Отправить</button>
</form> 
```

Атрибут `maxlength` автоматически обрежет и не даст ввести значение больше, чем разрешённое

Значения атрибутов `type`, `minlength` и `maxlength` можно использовать вместе. Тогда для каждой ошибки будет своё сообщение, а пользователь поймёт, что именно исправлять.

В примерах выше данные вводятся за несколько секунд. Но бывают очень длинные формы. Если пользователь оформляет оплату и доставку товара, ему будет обидно узнать об ошибке только в конце — и начинать всё заново.

Чтобы интерфейс реагировал быстрее, форму стилизуют.

## Стилизация полей псевдоклассами

Псевдоклассы дают обратную связь: подсвечивают поле в момент появления ошибки.

Их назначение:

-   `:valid` — указывает, что введены корректные данные;
-   `:invalid` — указывает, что данные некорректны;
-   `:checked` — применяет стили к отмеченным чекбоксам `type="checkbox"` или радиокнопкам `type="radio"`;
-   `:not` — показывает элементы, которые не отмечены как `:checked`.

Эта обратная связь мгновенная. Пользователь до отправки формы понимает, что ввёл неправильные данные в одно из её полей.

Добавим псевдоклассы форме из примера выше:

Скопировать кодHTML

```
<form class="form">
  <input class="form__input" type="url" placeholder="Адрес">
  <input class="form__input" type="email" placeholder="Email">
  <input class="form__input" type="text" placeholder="Имя" minlength="2" maxlength="30">
  <button>Отправить</button>
</form> 
```

Скопировать кодCSS

```
.form__input:invalid {
  border: 1px solid red; /* красная рамка для некорректных данных */
} 

.form__input:valid {
  border: 1px solid green; /* зелёная - для корректных */
} 
```

Теперь поля формы ведут себя так:

А вот с `:checked` не всё так просто: чекбоксы и радиокнопки закрыты от стилизации. Но стилизовать их приходится. Вы уже сталкивались с этим [во втором спринте](https://praktikum.yandex.ru/trainer/web/lesson/61aa6bab-22f9-4bd2-8052-ba1b30c0ec80/task/d9363ed5-cef9-4706-8a70-6414788961eb/).

В примерах выше возникла ситуация. Пользователь не ввёл данные, но поле всё равно отмечено как `:valid`. Дело в том, что сейчас оба поля с адресом и почтой необязательно заполнять.

Это исправит атрибут `required`.

## Атрибут `required`

Атрибут `required` делает данное поле необходимым для заполнения. Если оставить поле пустым, форма не будет отправлена.

По умолчанию пустому полю присваивают псевдокласс `:invalid`:

Скопировать кодHTML

```
<form class="form">
  <input class="form__input" type="url" placeholder="Адрес" required>
  <input class="form__input" type="email" placeholder="Email" required>
  <button>Отправить</button>
</form> 
```

При попытке отправить форму с пустыми полями появляется сообщение об ошибке.

Сообщения об ошибке исчезают, как только форма становится валидной.

Встроенная браузерная валидация — простой способ проверить, правильно ли пользователь ввёл данные. Но она менее гибкая при настройке, чем валидация через JS. Об этом в следующем уроке.

А пока переходите к заданиям и попрактикуйтесь в работе со стандартной валидацией в браузере. Наверняка вы не ожидали, что на курсе по JS придётся целый урок верстать!

Попробуйте посмотреть на ошибки в различных браузерах: в каждом она выглядит по-своему.