[[JavaScript]]

Языки программирования создают для решения определённых задач. JavaScript придумали, чтобы писать код для браузера, Objective-C и SWIFT — для приложений под macOS и iOS, PHP — для программирования серверов. Если язык используют только для работы в определённой среде, его называют **языком конкретной предметной области**.

Но языки программирования развиваются, обрастают новой функциональностью и инструментами — и иногда выходят за пределы изначальных целей. В результате язык становится универсальным: на нём можно писать код для совершенно разных платформ. Такие языки называют **языками общего назначения**. Например, на C++ можно запрограммировать и сервер, и холодильник.

Когда вышла Node.js, или на сленге — «нода», JavaScript эволюционировал из языка конкретной предметной области в язык общего назначения.

### Что такое Node.js?

Node.js. собран из двух основных составляющих:

- **движок JavaScript**. Он нужен для компиляции и исполнения кода — так же, как в браузере. В Node.js используется движок V8, который разработали Google для браузеров Chrome.
- **набор модулей** — утилиты, которые позволяют JavaScript взаимодействовать с файловой системой, сетью и другими системами компьютера. Именно модули высвобождают JS из браузера и позволяют ему работать в более широких рамках. С помощью утилит на JavaScript теперь можно писать логику работы сервера, программировать роботов и создавать десктопные приложения.

### Как работает Node.js?

Сервер — это удалённый компьютер, который умеет принимать запросы и возвращать ответы. Но как именно он это делает?

У сервера есть сетевая карта, которая может принимать запросы, поступающие из сети. Чтобы обрабатывать запросы, нужно получить доступ к сетевой карте — научиться получать и отправлять через неё данные.

В JavaScript нет функциональности для взаимодействия с «железом», поэтому он не может получить данные от сетевой карты. Чтобы решить эту проблему, пишут библиотеку команд на языке, который способен обмениваться данными с картой (например, на C).

Получается, каждый модуль — своего рода интерфейс для работы с C посредством JavaScript-команд. JavaScript-код взаимодействует с библиотекой libuv, написанной на C, а она обращается к файловой системе, сетевой карте и другим системам компьютера.

![image](https://pictures.s3.yandex.net/resources/Frame_273_1596811988.png)

### Начинаем кодить

Вы уже установили ноду в предыдущих уроках курса. Но если начали работать на другом компьютере или ноду съела собака, можно снова скачать её тут:

[Библиотека пакетов NPM](https://praktikum.yandex.ru/learn/web/courses/370a2c73-45bf-439f-a747-ef4e3c0db48f/sprints/1703/topics/af1c30a0-05e5-46b5-8570-6742270bc6d8/lessons/548a7bd4-8c6e-4846-8bdb-7ffe699ab718/)

Пора начинать кодить. Локально создайте файл `index.js` с кодом:

Скопировать кодJAVASCRIPT

```
console.log('In Node We Trust'); 
```

Сохраните файл и запустите в терминале командой `node index.js` (для начала с помощью команды `cd`имя_папки нужно попасть в папку с файлом):

![image](https://pictures.s3.yandex.net/resources/Untitled_1568020045.png)

Код, который написан на JavaScript, исполнился вне браузера. Node.js позволяет это делать.

Также можно запускать JavaScript-команды прямо в bash. Терминал будет работать примерно как браузерная консоль. Для этого запустите команду `node`, а дальше пишите JS-код:

![image](https://pictures.s3.yandex.net/resources/node-23_1568132539.png)

Чтобы выйти из этого режима, нажмите `Ctrl+D`.

### Нода — не браузер

Знакомые вам API вроде DOM и `fetch` есть только в браузере. Из ноды к ним обратиться не выйдет. Проверьте это сами — отредактируйте файл `index.js`:

Скопировать кодJAVASCRIPT

```
console.log(window); 
```

Если запустите файл из терминала, увидите такую ошибку: `ReferenceError: window is not defined`.

В Node.js нет объекта `window`, потому что нет и браузерного окна. Вместо `window` в Node.js есть глобальный объект `global`: его свойства и методы доступны глобально, но на этом их сходство с `window` заканчиваются. `Global` содержит собственные методы и свойства, их мы будем изучать по ходу курса.

Ну, хватит теории — пора переходить к практике. В следующем уроке создадим сервер на Node.js.