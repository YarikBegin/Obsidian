[[JavaScript]]

В этом уроке поговорим о тестировании: отправке запросов и проверке реакции сервера на них.

Для этой задачи подходит и браузер — вы можете вписывать GET-запросы в адресную строку, POST-запросы отправлять через форму, а методом fetch делать запросы любого типа. Но это неудобно. Чтобы узнать о запросе, например о заголовках, придётся лезть во вкладку Network в инструментах разработчика. Чтобы отправить PATCH-запрос, нужно и вовсе редактировать файл с кодом, сохранять и открывать в браузере. В общем, для тестирования нужен более гибкий инструмент.

### Инструмент для тестирования API

Чтобы отправлять запросы на сервер и получать ответы, есть специальные приложения. Мы расскажем об одном из самых популярных — Postman. Скачать и установить его можно по ссылке: [https://www.getpostman.com/downloads/](https://www.getpostman.com/downloads/).

Когда установите приложение и зайдёте в него, перед вами появится такой экран:

![image](https://pictures.s3.yandex.net/resources/node-27_1568028613.png)

Нажмите на плюс в левом верхнем углу.

Появится окно для создания запроса. В выпадающем списке слева от адресной строки можно указать тип запроса. Пока оставим GET:

![image](https://pictures.s3.yandex.net/resources/node-28_1568028707.png)

В адресной строке нужно указать URL, куда мы хотим отправить запрос. Протестируем на уже знакомом [https://api.kanye.rest](https://api.kanye.rest/). Вбейте адрес и нажмите Send:

![image](https://pictures.s3.yandex.net/resources/node-29_1568028752.png)

Kanye REST вернёт ответ. В нижней панели отобразятся статус ответа, его тело и заголовки:

![image](https://pictures.s3.yandex.net/resources/node-29_1568133446.png)

### Редактирование запроса

В Postman можно редактировать тело и заголовки запроса. Для примера создадим такой запрос:

Скопировать код

```
POST https://jsonplaceholder.typicode.com/posts

Content-Type: application/json

{
  "title": "Привет, мир!",
  "userId": 42
} 
```

Сначала сделайте POST-запрос с соответствующим URL и заголовками:

![image](https://pictures.s3.yandex.net/resources/node-31_1568028876.png)

Настройте тело запроса: перейдите во вкладку Body, выберите радио-кнопку raw и скопируйте в текстовую область ниже необходимый json-объект:

![image](https://pictures.s3.yandex.net/resources/node-32_1568028919.png)

Чтобы сохранить запрос, нажмите Save. Это полезно, если вы собираетесь неоднократно тестировать сервер этим запросом:

![image](https://pictures.s3.yandex.net/resources/node-33_1568028941.png)

Postman — простой и удобный инструмент для тестирования запросов. Он сэкономит много времени при разработке сервера или API. А теперь — немного практики для закрепления.

1. Какой у ответа код статуса?

501

Правильный ответ

201

Верно. Код 201, как и 200 сообщает, что всё прошло успешно.

404

304

2. Какое значение заголовка Content-Type?

`application/json`

`text/html`

`text/plain; charset=utf-8`

Правильный ответ

`application/json; charset=utf-8`

Верно. Этот заголовок указывает, что пришёл json с указанием кодировки.

3. Какое значение свойства answer в теле ответа?

Правильный ответ

У вас всё получится

«У вас всё получится», а мы и не сомневаемся!

Node.js — это сложно

Волга впадает в Каспийское море