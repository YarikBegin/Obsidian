[[Объекты]]

Вы уже не раз записывали значение одной переменной в другую:

Скопировать кодJAVASCRIPT

```
let jackSparrow = 'Джек Воробей';
let captain = jackSparrow;

console.log(`Одна переменная: ${jackSparrow}, вторая переменная: ${captain}`);
// Одна переменная: Джек Воробей, вторая переменная: Джек Воробей

captain= `Капитан ${jackSparrow}`;

console.log(`Одна переменная: ${jackSparrow}, вторая переменная: ${captain}`);
// Одна переменная: Джек Воробей, вторая переменная: Капитан Джек Воробей 
```

Логика тут довольно проста: мы присваиваем значение одной переменной, затем — другой. При изменении одной переменной вторая остаётся нетронутой. Попробуем проделать тот же трюк с двумя объектами:

Скопировать кодJAVASCRIPT

```
const firstPirate = {
    name: 'Джек',
    nickName: 'Воробей',
};

const secondPirate = firstPirate;
secondPirate.rank = 'Капитан';

console.log(firstPirate);
// { name: "Джек", nickName: "Воробей", rank: "Капитан" }

console.log(secondPirate);
// { name: "Джек", nickName: "Воробей", rank: "Капитан" } 
```

Мы присвоили свойство `rank` объекту `secondPirate`, но это же свойство появилось и у объекта `firstPirate`. Дело здесь в том, что объекты и примитивы хранятся в переменных по-разному.

Примитивы передаются по значению. То есть если присвоить одной переменной примитивное значение другой, это значение будет скопировано. В результате мы получим две переменные с одинаковыми, но независимыми значениями.

Скопировать кодJAVASCRIPT

```
let a = 0;
let b = a;

b += 1;

console.log(b); // 1
console.log(a); // 0 
```

С объектами всё иначе: они передаются по ссылке. Когда вы создаёте объект, происходят два события:

1.  объект создаётся в памяти;
2.  в переменную записывается ссылка на эту область памяти.

Поэтому если записать в переменную уже готовый объект, он не будет создан заново. Просто ссылка на него будет записана в новую переменную.

Рассмотрим этот принцип на примере. Допустим, вы создаёте такой объект:

Скопировать кодJAVASCRIPT

```
const firstObj = {
    one: 1,
    two: 2
}; 
```

Теперь в памяти появилось две новых сущности: сам объект и ссылка на него — `firstObj`.

![image](https://pictures.s3.yandex.net/resources/JS___1__29_1588413413.png)

Попробуем записать этот объект в другую переменную:

Скопировать кодJAVASCRIPT

```
const firstObj = {
    one: 1,
    two: 2
};

const secondObj = firstObj; 
```

Теперь в памяти есть не две, а три новых сущности: сам объект и две ссылки на него (`firstObj` и `secondObj`):

![image](https://pictures.s3.yandex.net/resources/JS___1__30_1588413437.png)

Такое поведение объектов можно сравнить с банковскими картой и счётом. У вас есть счёт в банке, на котором лежат деньги. Карта привязывается к этому счёту. Если вы потеряете карту, или срок её действия подойдёт к концу, вы можете её просто поменять. Деньги при этом никуда не денутся: они лежат на счету в банке. А карта — просто ссылка на этот счёт.

Теперь вопрос с подвохом: изменится ли `firstObj`, если мы изменим `secondObj` вот так (подумайте над ответом, прежде чем читать дальше):

Скопировать кодJAVASCRIPT

```
const firstObj = {
    one: 1,
    two: 2
};

let secondObj = firstObj;
secondObj = { one: 1, two: 2, three: 3 };

console.log(firstObj); // ??? 
```

Правильный ответ — нет. Потому что для `secondObj` мы не изменяли объект по ссылке, а записали в него ссылку на новый объект:

![image](https://pictures.s3.yandex.net/resources/JS-22_1588413461.png)

Таким образом старая ссылка стёрлась, а имя `secondObj` стало указывать на новый объект.