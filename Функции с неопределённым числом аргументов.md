
[[Функции, определение и вызов]]

В ES6 появился новый оператор: `...` (три точки). В зависимости от контекста применения и ожидаемой функциональности эти три точки `...` называют либо `spread`, либо `rest`. В разных ситуациях он ведёт себя по-разному. В этом уроке расскажем, что делает этот оператор при работе с функциями.

## При вызове функции — разбивает массив

Оператором `spread` можно «разложить» массив в отдельные аргументы функции. Например, метод `Math.max` принимает на вход сколько угодно чисел и возвращает наибольшее из них. Оператор `spread` позволяет передать такой функции массив, сделав из него отдельные аргументы:

Скопировать кодJAVASCRIPT

```
const nums = [4, 8, 15, 16, 23, 42];

/* Оператор spread разложит массив на отдельные
аргументы: 4, 8, 15 и так далее */

Math.max(...nums); // 42 
```

## При объявлении функции — собирает аргументы в массив

Второе назначение оператора `...` — rest-параметры. Они выполняют действие, обратное оператору `spread`: собирают отдельные параметры функции в массив:

Скопировать кодJAVASCRIPT

```
function consoleDogs(firstDog, ...otherDogs) {
  console.log(`Первый: ${firstDog}`);
  console.log(`Остальные: ${otherDogs}`);
}

consoleDogs('Спаниель', 'Овчарка', 'Борзая', 'Метис');

/* В консоль будет выведено:

  Первый: Спаниель
  Остальные: ['Овчарка', 'Борзая', 'Метис']
*/ 
```

Внимание: rest-параметр всегда стоит в конце. Такой код приведёт к ошибке:

Скопировать кодJAVASCRIPT

```
function consoleDogs(...dogs, dog1) {
  dogs.forEach(dog => {
    console.log(dog);
  });
}

consoleDogs('Спаниель', 'Овчарка', 'Борзая', 'Метис');

// SyntaxError: Rest parameter must be last formal parameter 
```

## Старый код. Переменная `arguments`

В старом коде, до появления оператора `spread`, можно встретить другой способ работы с такими функциями — переменную `arguments`.

Внутри любой функции, кроме стрелочной, доступна переменная `arguments`. Она создаётся автоматически. Это псевдомассив всех аргументов, которые были переданы функции:

Скопировать кодJAVASCRIPT

```
function gimmeSomeArguments() {
  console.log(arguments);
}

gimmeSomeArguments(1, 2); // [1, 2]
gimmeSomeArguments('a', 'b', 'c', 'd', 'e'); // ['a', 'b', 'c', 'd', 'e']max 
```

Псевдомассив — это как массив, но у него нет некоторых методов, которые есть у настоящих массивов. Например, у `arguments` нет методов `forEach` и `map`:

Скопировать кодJAVASCRIPT

```
function doubleArguments() {
  return arguments.map(item => item * 2);
}

doubleArguments(1, 2); // TypeError: arguments.map is not a function

// у arguments нет метода map, поэтому вызвать его нельзя 
```

Это неудобно, поэтому везде, где нам нужно передать неопределённое число аргументов, мы будем использовать оператор `spread`.