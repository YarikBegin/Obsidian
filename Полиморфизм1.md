[[Полиморфизм]]

При работе с DOM бывает полезно расширить методы некоторых динамических элементов. Общее поведение элементов одного типа уточняется для их подтипа. Так происходит, когда пользователь кликает на карточку и по-другому её оформляет.

[Здесь поможет полиморфизм](https://praktikum.yandex.ru/trainer/web/lesson/837a6ab6-6a13-450e-a4df-2b5bbfccd68e/task/2a7ab747-86e8-4ab7-baa7-80c128db6479/). Мы расширим функциональность родительского метода, который доступен для всех карточек.

Доработаем наш чат. В родительском классе `Card` метод `_handleMessageClick` добавляет в html-элемент текста карточки значение атрибута `class` — `card__text_is-active`.

Этот класс выделяет текст карточки другим цветом:

Скопировать кодJAVASCRIPT

```
_handleMessageClick() {
  this._element.querySelector('.card__text').classList.toggle('card__text_is-active');
} 
```

Усложним работу метода `_handleMessageClick` в наследнике `UserCard`. До этого метод только добавлял ещё один класс элементу `card__text`. Теперь пусть метод ещё и изменяет сам атрибут `class` в html-элементе карточки с классом `card`.

Полиморфизм поможет расширить функциональность `_handleMessageClick` прямо внутри наследника. Для этого вызовем исходный метод ключевым словом `super` и после этого опишем дополнительную функциональность:

Скопировать кодJAVASCRIPT

```
class Card {
  // конструктор и другие методы

  _handleMessageClick() {
    this._element.querySelector('.card__text').classList.toggle('card__text_is-active');
  }
}

class UserCard extends Card {
  // конструктор и другие методы

  _handleMessageClick() {
    super._handleMessageClick(); // вызываем родительский метод

    // дополним _handleMessageClick новой функциональностью:
    // в this._element хранится элемент карточки,
    // добавим ему класс card_is-active
    this._element.classList.toggle('card_is-active');
  }
} 
```

Мы сделали перегрузку метода — расширение функциональности родительского класса в наследнике. Этот термин будет часто вам встречаться.

[Итоговый код](https://repl.it/@praktikum/lesson-6) урока.

Мы привели очень простой пример полиморфизма. В реальных проектах чаще нужно добавлять более сложную логику. Но в работе вам предстоит принимать решение, перегружать методы или переписывать их целиком — и нести за это ответственность.