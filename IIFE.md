[[Модули в JS. Введение]]

Перед тем как знакомиться с модулями, нужно вспомнить кое-что об области видимости функции и познакомиться с одной новой концепцией.

Вы уже знаете, что функциональное выражение (или Function Expression_)_ — это функция в составе какого-то выражения. И познакомились с самыми распространёнными примерами использования Function Expression:

Скопировать кодJAVASCRIPT

```
// функция, положенная в переменную
const double = function (num) {
  return num * 2;
};

// и функция, определённая в вызове метода
[1, 2, 3].map(function (item) {
  return item * 2;
}); 
```

Но, как мы уже говорили, функциональное выражение — это функция, в составе какого-то выражения. Если заключить функцию в скобки, это тоже станет функциональным выражением:

Скопировать кодJAVASCRIPT

```
/* это функциональное выражение, потому что функция
объявлена в составе выражения — в скобках */

(function () {
  console.log('Hello world!');
}); 
```

В таком виде эта функция бесполезна: она создаётся, но мы никуда её не передаём. Движок сразу от неё избавится, потому что она нигде не используется. Изменим этот код, добавив круглые скобки в конце:

Скопировать кодJAVASCRIPT

```
(function () {
  console.log('Hello world!');
})(); // добавим скобки в конце, тем самым вызвав функцию 
```

Если запустить этот код, в консоли появится сообщение «Hello world!». Функция создаётся и сразу же вызывается. Такой способ создания и вызова функций называется IIFE.

## IIFE против глобальных переменных

Поскольку IIFE — это функция, все переменные, объявленные внутри неё, не видны снаружи. Если обернуть весь код в IIFE, можно полностью избавиться от глобальных переменных в нашем коде.

Код с глобальными переменными:

Скопировать кодJAVASCRIPT

```
const button = document.querySelector('button');

function handleClick(evt) {
  // код обработки клика
}

button.addEventListener('click', handleClick); 
```

Код без глобальных переменных:

Скопировать кодJAVASCRIPT

```
(function () {
  const button = document.querySelector('button');

  function handleClick(evt) {
    // код обработки клика
  }

  button.addEventListener('click', handleClick);
})(); 
```

Теперь в коде нет глобальных переменных, и если другой разработчик тоже решит воспользоваться переменной `button`, это никак не повлияет ни на его код, ни на ваш.

Так можно на чистом JS скрыть переменные от внешнего кода: другие инструменты не понадобятся. С этой возможности в JS и появились модули. О них — в следующем уроке.